# Route 53 ドメイン設定ガイド

## ドメイン取得（Route 53）

**費用**: 年間 $12〜（.comの場合）

1. Route 53 → 登録済みドメイン → 「ドメインを登録」
2. 希望ドメインを検索・選択
3. 連絡先情報を入力
4. 購入確定

## 既存ドメインをRoute 53で管理

他社で取得したドメインを使う場合:

1. Route 53 → ホストゾーン → 「ホストゾーンを作成」
2. ドメイン名を入力、タイプ「パブリックホストゾーン」
3. 作成後、表示されるNSレコード（4つ）をコピー
4. ドメイン取得元でネームサーバーを上記に変更

## レコード設定

### EC2にドメインを向ける

1. ホストゾーン → 対象ドメイン → 「レコードを作成」

2. **Aレコード**（ルートドメイン）:
   ```
   レコード名: (空欄)
   レコードタイプ: A
   値: EC2のパブリックIPアドレス
   TTL: 300
   ```

3. **Aレコード**（www付き）:
   ```
   レコード名: www
   レコードタイプ: A
   値: EC2のパブリックIPアドレス
   TTL: 300
   ```

### Elastic IP使用時（推奨）

Elastic IPを使えば、インスタンス再起動時もIPが変わらない。

## 無料の代替案

### nip.io（即時利用可能）

設定不要で使える無料のワイルドカードDNS:

```
http://YOUR_EC2_IP.nip.io
例: http://54.123.45.67.nip.io
```

### sslip.io（同様の機能）

```
http://YOUR_EC2_IP.sslip.io
例: http://54-123-45-67.sslip.io
```

### Freenom（無料ドメイン）

.tk, .ml, .ga, .cf などの無料ドメインを取得可能。
※サービスの安定性に注意。

## DNS反映の確認

```bash
# DNSの確認
nslookup your-domain.com

# 伝播状況の確認
dig your-domain.com +short
```

DNS変更は通常数分〜48時間で反映。
